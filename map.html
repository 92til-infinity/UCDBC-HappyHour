<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.css' rel='stylesheet' />
    <title>Document</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>

    <div id="map"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v1.10.0/mapbox-gl.js'></script>
    <script>

        let apiKey = "28969492ff334eb9a60dbb84e806f0c9";
        let queryURL = "https://api.ipgeolocation.io/ipgeo?apiKey=" + apiKey;

        $.ajax({
            url: queryURL,
            method: "GET"
        })
            .then(function (response) {

                console.log(response);

                const longitude = response.longitude;
                const latitude = response.latitude;

                mapboxgl.accessToken = "pk.eyJ1IjoicmFza29nIiwiYSI6ImNrOXhvOTdleTA1bHozbXBtc3R0ZDVkODIifQ.706vwlV4IYaDY7ZTOLEt9w";

                let map = new mapboxgl.Map({
                    container: "map",
                    style: "mapbox://styles/mapbox/streets-v10",
                    center: [longitude, latitude],
                    zoom: 12,
                })

                function getRoute(end) {
                    let start = [longitude, latitude];
                    let feedCoords = "https://api.mapbox.com/directions/v5/mapbox/cycling/" + start[0] + ","
                        + start[1] + ";" + end[0] + "," + end[1] + "?steps=true&geometries=geojson&access_token="
                        + mapboxgl.accessToken;
                }
            });

    </script>
</body>

</html>